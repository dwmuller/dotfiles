- defaults:
    link:
        relink: true

- clean: ['~']

- link:
    ~/.bash:
    ~/.bashrc:
    ~/.bash_profile:
    ~/.dotfiles: ''
    ~/.gitconfig:
    ~/.inputrc:
    ~/.nvm:
    ~/.shell:
    ~/.config.omp.json:
    ~/AppData/Local/Packages/Microsoft.WindowsTerminal_8wekyb3d8bbwe/LocalState/settings.json:
        if: '[ -d ~/AppData ]'
        path: ./Microsoft.WindowsTerminal_settings.json
    ~/.emacs.el:

- shell:
    - [git submodule update --init --recursive, Installing submodules]
    - [bash -c ~/.dotfiles/bin/wsl/link-winhome, Linking winhome in WSL2]
    - [bash -c "type -p pwsh && p=$(pwsh -Command 'Split-Path $PROFILE') && (mkdir -p \"$p\"; ln -s -f ./Microsoft.PowerShell_profile.ps1 \"$p\")", PS profile for current user/current host]

